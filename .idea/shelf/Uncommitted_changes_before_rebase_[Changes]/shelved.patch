Index: src/test/resources/features/US04_AN.feature
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\nFeature: As a data consumer, I want UI and DB book information to be matching.\n@db @ui @wip\n  Scenario: Verify book information with DB\n    Given the \"librarian\" on the home page AN\n    And the user navigates to \"Books\" page AN\n    When the user searches for \"Clean Code\" book AN\n    And  the user clicks edit book button AN\n    Then book information must match the Database AN
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/test/resources/features/US04_AN.feature b/src/test/resources/features/US04_AN.feature
--- a/src/test/resources/features/US04_AN.feature	(revision 8261e0931e70a93d911f957e6ffe866835f77ab9)
+++ b/src/test/resources/features/US04_AN.feature	(date 1679939410717)
@@ -4,6 +4,6 @@
   Scenario: Verify book information with DB
     Given the "librarian" on the home page AN
     And the user navigates to "Books" page AN
-    When the user searches for "Clean Code" book AN
+    When the user searches for "AttiaNasib" book AN
     And  the user clicks edit book button AN
     Then book information must match the Database AN
\ No newline at end of file
Index: src/test/java/com/library/steps/US04_AN_StepDefs.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.library.steps;\n\npublic class US04_AN_StepDefs {\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/test/java/com/library/steps/US04_AN_StepDefs.java b/src/test/java/com/library/steps/US04_AN_StepDefs.java
--- a/src/test/java/com/library/steps/US04_AN_StepDefs.java	(revision 8261e0931e70a93d911f957e6ffe866835f77ab9)
+++ b/src/test/java/com/library/steps/US04_AN_StepDefs.java	(date 1679939273817)
@@ -1,4 +1,49 @@
 package com.library.steps;
 
+import com.library.pages.BookPage;
+import com.library.pages.DashBoardPage;
+import com.library.pages.LoginPage;
+import com.library.utility.BrowserUtil;
+import com.library.utility.DB_Util;
+import io.cucumber.java.en.And;
+import io.cucumber.java.en.Given;
+import io.cucumber.java.en.Then;
+import io.cucumber.java.en.When;
+import org.junit.Assert;
+
 public class US04_AN_StepDefs {
-}
+    BookPage bookPage = new BookPage();
+    String bookName;
+
+    @Given("the {string} on the home page AN")
+    public void theOnTheHomePageAN(String userType) {
+        new LoginPage().login(userType);
+    }
+
+    @And("the user navigates to {string} page AN")
+    public void theUserNavigatesToPageAN(String moduleName) {
+        new DashBoardPage().navigateModule(moduleName);
+    }
+
+    @When("the user searches for {string} book AN")
+    public void theUserSearchesForBookAN(String bookName) {
+        this.bookName = bookName;
+        bookPage.search.sendKeys(bookName);
+    }
+
+    @And("the user clicks edit book button AN")
+    public void theUserClicksEditBookButtonAN() {
+        BrowserUtil.waitForClickablility(bookPage.editBook(bookName), 3);
+        bookPage.editBook(bookName).click();
+    }
+
+    @Then("book information must match the Database AN")
+    public void bookInformationMustMatchTheDatabaseAN() {
+        DB_Util.runQuery("select * from books where name='"+bookName+"'");
+        BrowserUtil.waitForClickablility(bookPage.saveChanges,5);
+        Assert.assertEquals(DB_Util.getCellValue(1, 2), bookPage.bookName.getAttribute("value"));
+        Assert.assertEquals(DB_Util.getCellValue(1, 3), bookPage.isbn.getAttribute("value"));
+        Assert.assertEquals(DB_Util.getCellValue(1, 4), bookPage.year.getAttribute("value"));
+        Assert.assertEquals(DB_Util.getCellValue(1, 5), bookPage.author.getAttribute("value"));
+    }
+}
\ No newline at end of file
Index: src/test/resources/Query/library.sql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\n-- US01\nselect count(id) from users; -- 1855\nselect count(distinct id) from users;\n\n-- US02\n\n-- US03\n\n-- US04\n\n-- US05\n\n-- US06\n\n-- US07\n\n\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/test/resources/Query/library.sql b/src/test/resources/Query/library.sql
--- a/src/test/resources/Query/library.sql	(revision 8261e0931e70a93d911f957e6ffe866835f77ab9)
+++ b/src/test/resources/Query/library.sql	(date 1679938770172)
@@ -8,6 +8,7 @@
 -- US03
 
 -- US04
+select * from books where name = 'AttiaNasib';
 
 -- US05
 
